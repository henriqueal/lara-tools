#include <stdio.h>
#include <string.h>

void DSP_blk_eswap16_c
(
    void * src,
    void * dst,
    int  n_hwords
);

/* ======================================================================== */   
/*  DSPLIB function-specific alignments. Refer to the                       */   
/*  TMS320C64x DSP Library Programmer's Reference for details.              */   
/* ======================================================================== */   
#pragma DATA_ALIGN(x, 8);   
#pragma DATA_ALIGN(r_c, 8);   
   
/* ======================================================================== */   
/*  Constant dataset.                                                       */   
/* ======================================================================== */   
#define NX   (200)   
   
   
/* ======================================================================== */   
/*  Initialize arrays with random test data.                                */   
/* ======================================================================== */   
unsigned short  x[NX] =    
{   
     0xE33E,  0xEE1A,  0x91C0,  0x8DBA,  0xB8FA,  0xF3C0,  0x2FE6,  0x7A10,   
     0x3314,  0x287F,  0x1523,  0x1F0E,  0x6438,  0xC9DF,  0x64C1,  0x7A7B,   
     0x2E9C,  0x4441,  0x01FD,  0x2491,  0x17A4,  0x0D7E,  0x701C,  0xF752,   
     0x17C5,  0xE5AC,  0x7F68,  0x391A,  0xC464,  0xCB9B,  0x605D,  0xDB90,   
     0x2BD9,  0xC87A,  0xA247,  0x785E,  0x74F2,  0xC838,  0x6FA6,  0xF030,   
     0x5F62,  0x7360,  0xD991,  0xC8CC,  0xBFCB,  0x9894,  0x4159,  0x8135,   
     0x624B,  0x238A,  0x73DE,  0x6BA5,  0x3BC3,  0xA7C7,  0xA82A,  0x25C6,   
     0x9175,  0xF600,  0xF29E,  0xC26B,  0x01AE,  0x3C4C,  0xC999,  0x7A91,   
     0xED80,  0xA24E,  0x56E8,  0xF510,  0x43C1,  0x6DAA,  0x1E67,  0xAC74,   
     0x85E7,  0xFD17,  0x1FD4,  0xF781,  0x28D0,  0x7977,  0xC35D,  0x4A74,   
     0x3FB9,  0xD52A,  0xEC2D,  0x2754,  0x0019,  0xDD23,  0xD3CB,  0x6190,   
     0x508E,  0x5986,  0x9CB3,  0x0CB6,  0x2FCA,  0xB8B4,  0xEA29,  0xBE54,   
     0x3935,  0x5654,  0xA12D,  0xBF06,  0x15F1,  0xBB36,  0xE9AC,  0x039D,   
     0xA5D9,  0x2027,  0xC964,  0x11C3,  0xA8AB,  0x05FB,  0xE702,  0x7C4E,   
     0x09F2,  0xD206,  0x0C68,  0xF7FE,  0x60CE,  0xB109,  0xEE02,  0xAE66,   
     0x926C,  0xFEA9,  0x15A5,  0x83BC,  0x8644,  0xD2D3,  0x5DF3,  0x2D4B,   
     0x62E6,  0x7A02,  0x28FB,  0x7F35,  0x126F,  0xE74C,  0x17D4,  0xB6C5,   
     0xF7BC,  0x39A9,  0xA96B,  0xCB53,  0xA9CC,  0x6BA8,  0x8D40,  0x54AA,   
     0x0EDD,  0x840C,  0x08EB,  0xCD4B,  0x82F2,  0x689C,  0x64C5,  0x1F08,   
     0x3810,  0x0D41,  0x21BB,  0x7CB7,  0x78BC,  0x58CD,  0x13BB,  0x46F4,   
     0xF374,  0x5E37,  0xF9BA,  0x3316,  0xB62E,  0x9C1C,  0xF974,  0x2B39,   
     0xF064,  0x4898,  0xE576,  0xEA41,  0x2306,  0x20FD,  0xB21C,  0xC284,   
     0xFAE7,  0xB61D,  0x4724,  0x68EF,  0xCFA5,  0x7F9B,  0x1D8C,  0xC4A9,   
     0xBA19,  0x4326,  0xF914,  0xDA17,  0x6715,  0x2166,  0x4363,  0x2538,   
     0x87A1,  0x837B,  0x172A,  0x6398,  0xF179,  0x591E,  0xB6C4,  0xB597   
};   
   
unsigned short  r_c[NX];   

unsigned short r_c_expected[NX] = { 16099, 6894, 49297, 47757, 64184, 49395, 58927, 4218, 5171, 32552, 8981, 3615, 14436, 57289, 49508, 31610, 39982, 16708, 64769, 37156, 42007, 32269, 7280, 21239, 50455, 44261, 26751, 6713, 25796, 39883, 23904, 37083, 55595, 31432, 18338, 24184, 62068, 14536, 42607, 12528, 25183, 24691, 37337, 52424, 52159, 38040, 22849, 13697, 19298, 35363, 56947, 42347, 49979, 51111, 10920, 50725, 30097, 246, 40690, 27586, 44545, 19516, 39369, 37242, 33005, 20130, 59478, 4341, 49475, 43629, 26398, 29868, 59269, 6141, 54303, 33271, 53288, 30585, 24003, 29770, 47423, 10965, 11756, 21543, 6400, 9181, 52179, 36961, 36432, 34393, 45980, 46604, 51759, 46264, 10730, 21694, 13625, 21590, 11681, 1727, 61717, 14011, 44265, 40195, 55717, 10016, 25801, 49937, 43944, 64261, 743, 20092, 61961, 1746, 26636, 65271, 52832, 2481, 750, 26286, 27794, 43518, 42261, 48259, 17542, 54226, 62301, 19245, 58978, 634, 64296, 13695, 28434, 19687, 54295, 50614, 48375, 43321, 27561, 21451, 52393, 43115, 16525, 43604, 56590, 3204, 60168, 19405, 62082, 40040, 50532, 2079, 4152, 16653, 47905, 46972, 48248, 52568, 47891, 62534, 29939, 14174, 47865, 5683, 11958, 7324, 29945, 14635, 25840, 38984, 30437, 16874, 1571, 64800, 7346, 33986, 59386, 7606, 9287, 61288, 42447, 39807, 35869, 43460, 6586, 9795, 5369, 6106, 5479, 26145, 25411, 14373, 41351, 31619, 10775, 39011, 31217, 7769, 50358, 38837 };

int main(int argc, char** argv)   
{      

	DSP_blk_eswap16_c(x, r_c, NX);   

	if (argc > 42 && ! strcmp(argv[0], ""))	printf("%hu", r_c[NX-1]);

	int i;
	for(i=0; i < NX; i++) {
		if(r_c[i] != r_c_expected[i]) {
			return 1;
		}
	}
	return 10;


}   
